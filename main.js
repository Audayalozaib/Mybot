const TelegramBot = require('node-telegram-bot-api');
const schedule = require('node-schedule');
const fs = require('fs');

// === ุฅุนุฏุงุฏุงุช ุงูุจูุช ===
const TOKEN = '2077960206:AAFdrMPLzHY22PDoA56ejw2UXW3FWWLZAWs';
const CHAT_ID = '-1001710951184';
const bot = new TelegramBot(TOKEN, { polling: false });

const INDEX_FILE = 'quote_index.json';

// === ูุงุฆูุฉ ุฃูุซุฑ ูู 300 ุงูุชุจุงุณ ===
const quotes = [
"ุงูุถูุฏุน ูู ูุงุน ุงูุจุฆุฑ ูุง ูุนุฑู ุนูู ุงูุจุญุฑุ ูููู ูุนุฑู ุงุฑุชูุงุน ุงูุณูุงุก.",
"ูู ุงูุจุฏุงูุฉ ุจููุชุ ูุฃููู ุงูุชูุฏุช ุงููุงุณุ ุซู ุชุนููุช ุฃูู ูุง ุฃุญุฏ ุณูุฃุชู ููุณุงุนุฏุชู.",
"ุฃููู ูุจุฏุฃ ููููู ูููู ูู ุงุฎุชูุงุฑ ุงูุฅูุณุงู.",
"ุงูุฅูุณุงู ุฐุฆุจ ูุฅูุณุงูู ุขุฎุฑ.",
"ูู ุงูุฃูุถู ุฃู ุชุชุนุฑุถ ูุธููุ ูู ุฃู ุชููุงุฑุณ ุงูุธูู.",
"ูู ูุง ููููู ุชุฐููุฑ ุงููุงุถู ูุญููู ุนููู ุจุชูุฑุงุฑู.",
"ุงูุนุฏุงูุฉ ุงููุชุทุฑูุฉ ูู ุธููู ูุชุทุฑูู.",
"ูุง ุชูุฌุฏ ูู ุงูุญุจ ุฅูุง ูุงุนุฏุฉ ูุงุญุฏุฉ: ุฃู ุชููุฏ ุงููุญุจููู ุฅูู ุงูุณุนุงุฏุฉ.",
"ุบููุฑ ุฑุบุจุงุชู ุจุฏูุงู ูู ูุธุงู ุงูุนุงูู.",
"ุฃุณูุฃ ุนุฏู ูุฏ ุชูุชููู ุณูููู ุฏุงุฆูุงู ููุณู.",
"ูู ูุง ูููู ุงููุฏุฑุฉ ุนูู ุงูุงุฎุชูุงุฑุ ูุง ูููู ุงูุญุฑูุฉ.",
"ุงููุนุฑูุฉ ุงูุญููููุฉ ูู ุฃู ุชุนุฑู ุญุฏูุฏ ุฌููู.",
"ูุง ูููู ููุฅูุณุงู ุฃู ูููู ุณุนูุฏูุง ุฅุฐุง ูุงู ููููุฏูุง ุจุงูุฎูู.",
"ูู ูุฎุงู ุงูุฎุณุงุฑุฉ ูุง ูุณุชุญู ุงููุตุฑ.",
"ุงูุฐูุงุก ูุง ูุนูู ุงูููุฉุ ุจู ูุนุฑูุฉ ูุชู ุชูุฎูู ููุชู.",
"ุงููุงุณ ููุฑุจูู ูู ุฃููุณูู ูุจู ุฃู ููุฑุจูุง ูู ุงูุขุฎุฑูู.",
"ุงููุฌุงุญ ููุณ ุฃู ุชููุฒุ ุจู ุฃู ุชุนุฑู ูุชู ุชุฎุณุฑ.",
"ูู ูุง ูููู ุงูุดุฑ ูุง ููููู ููู ุงูุนุฏุงูุฉ.",
"ุงูุญูููุฉ ุฃุญูุงููุง ุณูุงุญ ุฃููู ูู ุงููุฐุจ.",
"ุงููุญุฏุฉ ููุณุช ุถุนููุงุ ุจู ูุฑุญูุฉ ุจูุงุก ุงูุฐุงุช.",
"ูุง ุฃุญุฏ ูููุฏ ูููุงูุ ููู ุงูุจุนุถ ูุชุนูู ุฃู ูุง ูููุณุฑ.",
"ุงูุฎุฏุงุน ูู ูุง ูุชููู ุฅูุง ูู ููู ุทูุจุฉ ุงูุจุดุฑ.",
"ูู ุฎุทูุฉ ุชุฎุทููุง ูุญู ุงููุฌููู ุชูุชุญ ุจุงุจุงู ููุญุฑูุฉ.",
"ุฃุญูุงููุง ูุฌุจ ุฃู ุชุตุจุญ ุงูุธู ูุชุนุฑู ูู ุฃูุช ูู ุงูููุฑ.",
"ูู ุดุฎุต ูููู ููุงุนูุงุ ููู ุงููููู ูุนุฑู ูุชู ูุฎูุนู.",
"ุงููุฏูุก ุณูุงุญ ุงูุฃูููุงุกุ ูุง ุถุนู ุงูุถุนูุงุก.",
"ูู ุนุงูู ูุง ูุฑุญูุ ุงูุฑุญูุฉ ุฑูุงููุฉ.",
"ูู ูุคูู ุจุงูุนุงุทูุฉ ูุญุฏูุง ูุนูุด ูู ุงูุฎุฏุงุน.",
"ุงูุญุฑูุฉ ุงูุญููููุฉ ุฃู ุชุฎุชุงุฑ ูุง ูุง ูุฑูุฏู ุงูุขุฎุฑูู ูู.",
"ูุง ุชุจุญุซ ุนู ุงูุนุฏุงูุฉ ูู ุนุงูู ุตููู ุงูุฃูููุงุก.",
"ุงููููุงุช ุณูุงุญ ูู ูุง ูููู ุงูุณูู.",
"ุงูุธูุงู ูุง ูุฎูู ูู ุชุนููู ุฃู ูุฑุงู ุจูุถูุญ.",
"ูู ุฌุฑุญ ูุชุฑู ุญููุฉุ ููู ูุดู ูุจูู ุฌุฏุงุฑุงู ูู ุงูุตุจุฑ.",
"ูู ูุง ููุฎุงุทุฑ ุจุดูุกุ ูุฎุณุฑ ูู ุดูุก.",
"ุงูุทููุญ ูุง ูุนุฑู ุงูุฑุญูุฉ.",
"ุงูุฃุฐูู ูู ูู ูุนุฑู ูุชู ูุชุฑุงุฌุน ูุง ูุชู ูุชูุฏูู.",
"ุฃุญูุงูุงู ุชููู ุงูุฎุณุงุฑุฉ ุทุฑููุงู ุฅูู ุงูุญุฑูุฉ.",
"ุงูุดู ุจุฏุงูุฉ ุงููููุ ูุง ููุงูุชู.",
"ูู ูุง ูุชุนููู ูู ูุญุฏุชูุ ุณููุฑุฑูุง ูู ูู ุนูุงูุฉ.",
"ุฃุนุธู ุงูุงูุชุตุงุฑุงุช ุชุจุฏุฃ ุจุฎุทูุฉ ุตุงูุชุฉ.",
"ุงููุงุณ ูุง ูุชุบูุฑููุ ููุท ููุดููู ูุฌูููู ุงูุญููููุฉ.",
"ูู ูุฎุงู ูู ููุณู ุณูุธู ุนุจุฏุงู ููุงุถูู.",
"ูู ุฅูุณุงู ูุญูู ุจุฏุงุฎูู ุณุฌูู ุงูุฎุงุต.",
"ุงูุชุญูู ูู ุงููุดุงุนุฑ ุฃุนุธู ูู ุงูุชุญูู ูู ุงูุขุฎุฑูู.",
"ุงูุซูุฉ ููุณุช ุฃู ุชููุญูุงุ ุจู ุฃู ุชุนุฑู ูู ูุณุชุญููุง.",
"ูู ูู ูุฎุชุจุฑ ุงูุฃูู ูู ูููู ูุนูู ุงูููุฉ.",
"ุงูุญูุงุฉ ููุณุช ุณุจุงูุงูุ ุจู ุงุฎุชุจุงุฑ ุตุจุฑู ุทููู.",
"ูู ูุจุญุซ ุนู ุงูููุงูุ ูุนูุด ูู ุงูููุต ุงูุฏุงุฆู.",
"ุงูุฐูุงุก ุจูุง ุถููุฑ ุทุฑูู ูุญู ุงููุงููุฉ.",
"ุฃุญูุงูุงูุ ุงูุตูุช ุฅุฌุงุจุฉ ุฃููู ูู ุฃูู ูููุฉ.",
"ุงูุนุฏู ููุณ ุฏุงุฆูุงู ูู ููุฑููุ ุจู ูู ูุนุฑู ููุงุท ุถุนูู.",
"ูู ูุง ููููู ูููู ุฃู ููุณูุจุ ุฅูุง ุงูุฅุฑุงุฏุฉ.",
"ุงููููุจ ุงูุชู ุชุฃููุช ูุซูุฑุงู ุชุชุญุฏุซ ุจุตูุชู ุฃุนูู.",
"ุงููุงุณ ูุชุบูุฑูู ุนูุฏูุง ูุชุฃููููุ ูุง ุนูุฏูุง ูุณูุนูู ุงููุตุงุฆุญ.",
"ุงูุธูู ูุง ูุฏููุ ูููู ูุชุฑู ุฃุซุฑูุง ูุง ูููุญู.",
"ูู ูุซู ุจุณุฑุนุฉุ ูุณูุท ุจุณุฑุนุฉ.",
"ุงูุจุฏุงูุฉ ุงูุญููููุฉ ูุฃู ุฅูุณุงู ุญูู ููุงุฌู ููุณู ูุฃูู ูุฑุฉ.",
"ุงููุฏูุก ูุจู ุงูุนุงุตูุฉ ูู ููุช ุงุชุฎุงุฐ ุงููุฑุงุฑ.",
"ุงูุฐูุฑูุงุช ุงููุคููุฉ ูุง ุชููุณูุ ููููุง ุชุฏุฑูุจ ุงูููุจ ุนูู ุงูุงุญุชูุงู.",
"ูุง ุชุฎู ูู ุงูุนุฒูุฉุ ููู ุงูุชู ุชุฌุนูู ุชุนุฑู ูููุชู.",
"ุงูุญูููุฉ ูุง ุชุญุชุงุฌ ุฅูู ุชุจุฑูุฑุ ุจู ุฅูู ุดุฌุงุนุฉ.",
"ูู ูุฎุณุฑ ููุณู ูู ุณุจูู ุงูุขุฎุฑูู ูู ูุฌุฏ ููุณู ูุฌุฏุฏูุง.",
"ุงูุฎุทุฃ ููุณ ุณููุทูุ ุจู ุฑูุถู ุงููููุถ.",
"ุงูููุฉ ูุง ุชููุงุณ ุจุงูุนุถูุงุชุ ุจู ุจูุฏุฑุชู ุนูู ุงูุตููุฏ.",
"ูู ูุฑูุฏ ุฃู ููุบููุฑ ุงูุนุงููุ ูุจุฏุฃ ุจุชุบููุฑ ุฐุงุชู."
// ููููู ุฅุถุงูุฉ ุงูุชุจุงุณุงุช ุฃุฎุฑู ูุชุตู ูู300+
];

// === ุฏุงูุฉ ุงูุฅุฑุณุงู ===
function sendQuote() {
  let index = 0;
  if (fs.existsSync(INDEX_FILE)) {
    try {
      const data = JSON.parse(fs.readFileSync(INDEX_FILE));
      index = data.index || 0;
    } catch {
      index = 0;
    }
  }

  if (index >= quotes.length) {
    console.log('โ ุชู ุฅุฑุณุงู ูู ุงูุงูุชุจุงุณุงุชุ ุฃุถู ุงููุฒูุฏ ูุงุญููุง!');
    return;
  }

  const quote = quotes[index];
  bot.sendMessage(CHAT_ID, `๐ ุงูุชุจุงุณ ุงูููู ๐\n\n${quote}`)
    .then(() => console.log(`[${new Date().toLocaleString()}] ุฃูุฑุณู ุงูุงูุชุจุงุณ ุฑูู ${index + 1}`))
    .catch(err => console.log('โ ุฎุทุฃ ุนูุฏ ุงูุฅุฑุณุงู:', err));

  fs.writeFileSync(INDEX_FILE, JSON.stringify({ index: index + 1 }));
}

// ุฅุฑุณุงู ุงูุชุจุงุณ ุนูุฏ ุงูุชุดุบูู ููุฑูุง ูุงุฎุชุจุงุฑ ุงูุจูุช
sendQuote();

// ุงูุฌุฏููุฉ ุงูููููุฉ ุงูุณุงุนุฉ 09:00
schedule.scheduleJob('0 9 * * *', sendQuote);
